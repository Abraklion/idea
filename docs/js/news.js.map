{"version":3,"file":"news.js","mappings":"iKAKe,MAAMA,EAQnB,qBAAOC,CAAeC,GAEpBA,EAAcC,QAAU,WAYtB,OAVAC,SAASC,iBAAiB,SAAUC,IAClC,IAAIC,EAASD,EAAEC,QAEXA,GAAUA,EAAOC,QAAQC,KAAKC,WAAaH,GAAUA,EAAOI,eAAeH,QAAQC,KAAKC,YAE1FN,SAASQ,cAAc,qBAAqBC,UAAUC,OAAO,kBAE/D,IACA,GAEKL,IACT,CAEF,E,gFC1Ba,MAAMM,EAMnBC,UAAAA,GACE,IAAIC,EAAMb,SAASc,cAAc,OAEjCD,EAAIE,MAAMC,MAAQ,OAClBH,EAAIE,MAAME,OAAS,OACnBJ,EAAIE,MAAMG,UAAY,SACtBL,EAAIE,MAAMI,WAAa,SAEvBnB,SAASoB,KAAKC,YAAYR,GAE1B,IAAIS,EAAcT,EAAIU,YAAcV,EAAIW,YAIxC,OAFAX,EAAIH,SAEGY,CACT,CAQAG,YAAAA,CAAaC,EAAU,GAAGC,EAAc,IACtC3B,SAASoB,KAAKL,MAAMW,SAAWA,EAC/B1B,SAASoB,KAAKL,MAAMY,YAAcA,EAAe,GAAEA,MAAkB,EACvE,EC/Ba,MAAMC,UAAkBjB,EAOrCkB,MAAAA,CAAOC,GAGL,OAFAA,EAAQzB,MAEDA,IACT,ECXa,MAAM0B,UAAcH,EAoBjCI,WAAAA,CAAYC,EAAiBC,GACjB,cACEC,EAAgB,6BAA4B,kBAC5CC,GAAoB,EAAK,WAEzBC,EAAa,uBAAsB,YAEnCC,EAAc,KAAI,eAElBC,GAAiB,EAAK,aAEtBC,EAAe,SACb,CAAC,GAEfC,QAEApC,KAAKC,SAAW2B,EAEhB5B,KAAKqC,MAAQ1C,SAASQ,cAAc0B,GAEpC7B,KAAKsC,OAAStC,KAAKqC,OAAOlC,cAAc2B,GACxC9B,KAAKuC,mBAAqBR,IAAsB/B,KAAKqC,OAAOG,QAAQC,gBAAyD,SAAvCzC,KAAKqC,OAAOG,QAAQC,iBAA6B,EAEvIzC,KAAK0C,YAAcV,EAEnBhC,KAAK2C,aAAeV,GAAejC,KAAKqC,OAAOG,QAAQI,gBAAiB,EAExE5C,KAAK6C,gBAAkBX,GAAmBlC,KAAKqC,OAAOG,QAAQM,iBAA2D,SAAxC9C,KAAKqC,OAAOG,QAAQM,kBAA+B,EAEpI9C,KAAK+C,SAAWZ,CAClB,CAMAa,IAAAA,GAEE,OAAKhD,KAAKqC,OAMVrC,KAAKiD,gBAELjD,KAAKkD,eAELlD,KAAKmD,gBAEEnD,OAXLoD,QAAQC,IAAI,2DAEL,CAAC,EAUZ,CAOAJ,aAAAA,CAAcK,GAAQ,GACpB,IAAIC,EAEDD,GACDC,EAAS5D,SAAS6D,iBAAkB,GAAExD,KAAK0C,YAAYe,MAAM,EAAEzD,KAAK0C,YAAYgB,OAAS,KAAK1D,KAAKqC,MAAMG,QAAQmB,aAAgB,KAAI3D,KAAKqC,MAAMG,QAAQmB,gBAAkB,OAEtKJ,EAAOG,SACTH,EAAS5D,SAAS6D,iBAAiBxD,KAAK0C,eAG1Ca,EAAS5D,SAAS6D,iBAAiBxD,KAAK0C,aAG1Ca,EAAOK,SAAQvB,IACbA,EAAMjC,UAAUyD,IAAI,WAAY,UAChCxB,EAAM3B,MAAMoD,QAAU,MAAM,IAG9B9D,KAAKoB,cACP,CAMA8B,YAAAA,GACEvD,SAASC,iBAAiB,SAAUC,IAClC,IAAIC,EAASD,EAAEC,QAEXA,GAAUA,EAAOC,QAAQC,KAAKC,WAAaH,GAAUA,EAAOI,eAAeH,QAAQC,KAAKC,aAC1FJ,EAAEkE,iBACFlE,EAAEmE,kBAEElE,EAAOI,cAAcH,QAAQC,KAAKC,YACpCH,EAASA,EAAOI,eAGlBF,KAAKiE,cAAgBnE,EACrBE,KAAKkE,OAELC,YAAW,IAAMrE,EAAOsE,QAAO,KACjC,IACC,EACL,CAMAF,IAAAA,GACElE,KAAKiD,eAAc,GAEnBjD,KAAKqE,iBAELrE,KAAKqC,MAAM3B,MAAMoD,QAAU9D,KAAK+C,QAClC,CAMAsB,cAAAA,GACMrE,KAAK6C,iBAAiB7C,KAAKoB,aAAa,SAASpB,KAAKO,cAEvDP,KAAK2C,eACc3C,KAAKiE,cAAcK,QAAQtE,KAAK2C,eAAiBhD,SAASQ,cAAcH,KAAK2C,eAAiB3C,KAAKiE,cAAc/D,eAEzHqE,OAAOvE,KAAKqC,MAE5B,CAMAc,aAAAA,GACEnD,KAAKsC,QAAQ1C,iBAAiB,SAAUC,IAClCA,EAAEC,SACJD,EAAEkE,iBAEF/D,KAAKwE,QACP,IAGFxE,KAAKqC,OAAOzC,iBAAiB,SAAUC,IACjCA,EAAEC,QAGJE,KAAKyE,mBAAmB5E,EAC1B,IAGF6E,OAAO9E,iBAAiB,WAAYC,IACrB,WAAVA,EAAE8E,KAAkC,KAAd9E,EAAE+E,SAEzB5E,KAAKiD,eAEP,GAEJ,CAMAuB,KAAAA,GACExE,KAAKoB,eAELpB,KAAKqC,MAAM3B,MAAMoD,QAAU,MAC7B,CAMAW,kBAAAA,CAAmB5E,GAEbA,EAAEC,SAAWE,KAAKqC,OAASrC,KAAKuC,qBAClCvC,KAAKoB,eAELpB,KAAKqC,MAAM3B,MAAMoD,QAAU,OAE/B,E,sBC7MF,UAGQ,EAAO,CAAC,aAAkB,0BAAP,EAQzB,SAAUe,GAEZ,IAICC,EAJGC,EAAKC,UAAUC,UAClBC,EAAS,UAAUC,KAAKJ,GACxBK,EAAS,UAAUD,KAAKJ,GACxBM,EAAU,WAAWF,KAAKJ,GAG3BF,EAAES,KAAO,CAERC,YAAa,CACZ,EAAK,QACL,EAAK,WACL,IAAK,eAENC,WAAW,EACXC,SAAU,YACVC,YAAa,KAGdb,EAAEc,GAAGC,OAAO,CAEXC,MAAO,SAASC,EAAOC,GACtB,IAAIC,EAEJ,GAAoB,IAAhBhG,KAAK0D,SAAgB1D,KAAKiG,GAAG,YAAcjG,KAAKkG,IAAI,KAAOvG,SAASwG,cAIxE,MAAoB,iBAATL,GACVC,EAAsB,iBAARA,EAAoBA,EAAMD,EACjC9F,KAAKoG,MAAK,WACZpG,KAAKqG,kBACRrG,KAAKqG,kBAAkBP,EAAOC,GACpB/F,KAAKsG,mBACfN,EAAQhG,KAAKsG,mBACPC,UAAS,GACfP,EAAMQ,QAAQ,YAAaT,GAC3BC,EAAMS,UAAU,YAAaX,GAC7BE,EAAMU,SAER,MAEI1G,KAAK,GAAGqG,mBACXP,EAAQ9F,KAAK,GAAG2G,eAChBZ,EAAM/F,KAAK,GAAG4G,cACJjH,SAASkH,WAAalH,SAASkH,UAAUC,cACnDd,EAAQrG,SAASkH,UAAUC,cAC3BhB,EAAQ,EAAIE,EAAMe,YAAYN,UAAU,aAAc,KACtDV,EAAMD,EAAQE,EAAMgB,KAAKtD,QAEnB,CAAEoC,MAAOA,EAAOC,IAAKA,GAE9B,EACAkB,OAAQ,WACP,OAAOjH,KAAKkH,QAAQ,SACrB,EACA5B,KAAM,SAASA,EAAM6B,GACpB,IACCC,EACAC,EACAC,EACAC,EACSC,EACAC,EACAC,EAEV,IAAKpC,GAAQtF,KAAK0D,OAAS,EAAG,CAEpB,IAAIiC,EADLd,EAAE7E,KAAK,IACS2H,KAAK9C,EAAES,KAAKG,UACpC,OAAOE,EAAGA,SAAKiC,CAChB,CAiCA,OA/BAT,EAAWtC,EAAEe,OAAO,CACnBJ,UAAWX,EAAES,KAAKE,UAClBE,YAAab,EAAES,KAAKI,YACpBmC,UAAW,MACTV,GAGHC,EAAOvC,EAAES,KAAKC,YACd8B,EAAQ,GACRC,EAAkBG,EAAMnC,EAAK5B,OAC7B6D,EAAkB,KAElBjC,EAAOwC,OAAOxC,GAEdT,EAAEuB,KAAKd,EAAKyC,MAAM,KAAK,SAASC,EAAGC,GACzB,KAALA,GACHR,IACAH,EAAkBU,GACRZ,EAAKa,IACfZ,EAAMa,KAAK,IAAIC,OAAOf,EAAKa,KACH,OAApBV,IACHA,EAAkBF,EAAM3D,OAAS,GAEnBsE,EAAIV,IACHE,EAAyBH,EAAM3D,OAAS,IAGxD2D,EAAMa,KAAK,KAEb,IAEOlI,KAAKkH,QAAQ,UAAUd,MAAK,WAClC,IAAIgC,EAAQvD,EAAE7E,MACbqI,EAASxD,EAAEyD,IACPhD,EAAKyC,MAAM,KACX,SAASE,EAAGD,GACX,GAAS,KAALC,EACH,OAAOb,EAAKa,GAAKM,EAAeP,GAAKC,CAEvC,IACJO,EAAgBH,EAAOI,KAAK,IAC5BC,EAAYN,EAAMO,MAEV,SAASC,IACL,GAAKzB,EAASU,UAAd,CAIA,IAAK,IAAIG,EAAIT,EAAiBS,GAAKR,EAAwBQ,IACvD,GAAIX,EAAMW,IAAMK,EAAOL,KAAOO,EAAeP,GACzC,OAGRb,EAASU,UAAUgB,KAAKT,EAPxB,CAQJ,CAEA,SAASG,EAAeP,GACpB,OAAGA,EAAIb,EAASzB,YAAYhC,OACjByD,EAASzB,YAAYoD,OAAOd,GAChCb,EAASzB,YAAYoD,OAAO,EACvC,CAET,SAASC,EAASC,GACjB,OAASA,EAAMvB,IAAQJ,EAAM2B,KAC7B,OAAOA,CACR,CAOA,SAASC,EAAOnD,EAAMC,GACrB,IAAIiC,EACHkB,EAED,KAAIpD,EAAM,GAAV,CAIA,IAAKkC,EAAIlC,EAAOoD,EAAIH,EAAShD,GAAMiC,EAAIP,EAAKO,IAC3C,GAAIX,EAAMW,GAAI,CACb,KAAIkB,EAAIzB,GAAOJ,EAAMW,GAAG7C,KAAKkD,EAAOa,KAInC,MAHAb,EAAOL,GAAKK,EAAOa,GACnBb,EAAOa,GAAKX,EAAeW,GAK5BA,EAAIH,EAASG,EACd,CAEDC,IACAf,EAAMvC,MAAMuD,KAAKC,IAAI9B,EAAiBzB,GAftC,CAgBD,CAyDA,SAASwD,EAAUzJ,GACN0J,IAEInB,EAAMO,OAASD,GACfN,EAAMoB,QACd,CAmFT,SAASC,EAAYC,EAAO3D,GAC3B,IAAIiC,EACJ,IAAKA,EAAI0B,EAAO1B,EAAIjC,GAAOiC,EAAIP,EAAKO,IAC/BX,EAAMW,KACTK,EAAOL,GAAKO,EAAeP,GAG9B,CAEA,SAASmB,IAAgBf,EAAMO,IAAIN,EAAOI,KAAK,IAAM,CAErD,SAASc,EAASI,GAEjB,IAEC3B,EACAC,EACAe,EAJG7D,EAAOiD,EAAMO,MAChBiB,GAAa,EAKd,IAAK5B,EAAI,EAAGgB,EAAM,EAAGhB,EAAIP,EAAKO,IAC7B,GAAIX,EAAMW,GAAI,CAEb,IADAK,EAAOL,GAAKO,EAAeP,GACpBgB,IAAQ7D,EAAKzB,QAEnB,GADAuE,EAAI9C,EAAK2D,OAAOE,EAAM,GAClB3B,EAAMW,GAAG7C,KAAK8C,GAAI,CACrBI,EAAOL,GAAKC,EACZ2B,EAAY5B,EACZ,KACD,CAED,GAAIgB,EAAM7D,EAAKzB,OAAQ,CACtB+F,EAAYzB,EAAI,EAAGP,GACnB,KACD,CACD,MACuBY,EAAOL,KAAO7C,EAAK2D,OAAOE,IAC1BA,IAEAhB,EAAIV,IACJsC,EAAY5B,GAqBpC,OAjBI2B,EACHR,IACUS,EAAY,EAAItC,EACtBH,EAAS3B,WAAa6C,EAAOI,KAAK,MAAQD,GAG1CJ,EAAMO,OAAOP,EAAMO,IAAI,IAC1Bc,EAAY,EAAGhC,IAIf0B,KAGDA,IACAf,EAAMO,IAAIP,EAAMO,MAAMkB,UAAU,EAAGD,EAAY,KAExCtC,EAAkBU,EAAIT,CAC/B,CAEAa,EAAMT,KAAK9C,EAAES,KAAKG,UAAS,WAC1B,OAAOZ,EAAEyD,IAAID,GAAQ,SAASJ,EAAGD,GAChC,OAAOX,EAAMW,IAAIC,GAAGM,EAAeP,GAAKC,EAAI,IAC7C,IAAGQ,KAAK,GACT,IAGAL,EACE0B,IAAI,UAAU,WACd1B,EACE2B,IAAI,SACJC,WAAWnF,EAAES,KAAKG,SACrB,IACCwE,GAAG,cAAc,WAMjB,IAAIjB,EALeZ,EAAM8B,KAAK,cAI9BC,aAAarF,GAGb4D,EAAYN,EAAMO,MAElBK,EAAMO,IAENzE,EAAiBX,YAAW,WACNiE,EAAMlC,IAAI,KAAOvG,SAASwG,gBAG/CgD,IACIH,GAAO1D,EAAK8E,QAAQ,IAAI,IAAI1G,OAC/B0E,EAAMvC,MAAM,EAAGmD,GAEfZ,EAAMvC,MAAMmD,GAEd,GAAG,IACJ,IACCiB,GAAG,YAAaX,GAChBW,GAAG,gBAtLL,SAAsBpK,GACT,IAAIuI,EAAM8B,KAAK,YAAf,CAIZ,IACClB,EACAlD,EACAC,EAHGsE,EAAIxK,EAAEyK,OAASzK,EAAE+E,QAIL8C,EAASU,EAAMO,MAErB,IAAN0B,GAAiB,KAANA,GAAanF,GAAgB,MAANmF,GAErCvE,GADAkD,EAAMZ,EAAMvC,SACAC,OACZC,EAAMiD,EAAIjD,KAEAD,GAAU,IACnBA,EAAU,KAAJuE,EA5GT,SAAkBrB,GACjB,OAASA,GAAO,IAAM3B,EAAM2B,KAC5B,OAAOA,CACR,CAyGgBuB,CAASzE,GAAQC,EAAIgD,EAASjD,EAAM,GACjDC,EAAQ,KAAJsE,EAAOtB,EAAShD,GAAKA,GAE1B0D,EAAY3D,EAAOC,GACnBkD,EAAOnD,EAAOC,EAAM,GAEpBlG,EAAEkE,kBACc,KAANsG,EACVf,EAAUT,KAAK7I,KAAMH,GACL,KAANwK,IACVjC,EAAMO,IAAID,GACVN,EAAMvC,MAAM,EAAG0D,KACf1J,EAAEkE,iBA1BS,CA4Bb,IAwJEkG,GAAG,iBAtJL,SAAuBpK,GACV,IAAIuI,EAAM8B,KAAK,YAAf,CAIZ,IAECM,EACAvC,EACAwC,EAJGJ,EAAIxK,EAAEyK,OAASzK,EAAE+E,QACpBoE,EAAMZ,EAAMvC,QAKThG,EAAE6K,SAAW7K,EAAE8K,QAAU9K,EAAE+K,SAAWP,EAAI,KAElCA,GAAW,KAANA,IACZrB,EAAIjD,IAAMiD,EAAIlD,OAAU,IAC3B2D,EAAYT,EAAIlD,MAAOkD,EAAIjD,KAC3BkD,EAAOD,EAAIlD,MAAOkD,EAAIjD,IAAI,KAG3ByE,EAAIzB,EAASC,EAAIlD,MAAQ,IACjB2B,IACPQ,EAAIH,OAAO+C,aAAaR,GACpBhD,EAAMmD,GAAGrF,KAAK8C,MArHrB,SAAgBe,GACf,IAAIhB,EACHC,EACAiB,EACA4B,EAED,IAAK9C,EAAIgB,EAAKf,EAAIM,EAAeS,GAAMhB,EAAIP,EAAKO,IAC/C,GAAIX,EAAMW,GAAI,CAIb,GAHAkB,EAAIH,EAASf,GACb8C,EAAIzC,EAAOL,GACXK,EAAOL,GAAKC,IACRiB,EAAIzB,GAAOJ,EAAM6B,GAAG/D,KAAK2F,IAG5B,MAFA7C,EAAI6C,CAIN,CAEF,CAoGIC,CAAOP,GAEPnC,EAAOmC,GAAKvC,EACZkB,IACAsB,EAAO1B,EAASyB,GAEbnF,EAMFlB,YAJY,WACXU,EAAEmG,MAAMnG,EAAEc,GAAGE,MAAMuC,EAAMqC,EAAzB5F,EACD,GAEiB,GAEjBuD,EAAMvC,MAAM4E,GAEWzB,EAAIlD,OAAS0B,GACjBoB,KAItB/I,EAAEkE,iBAzCS,CA2Cb,IAyGEkG,GAAG,yBAAyB,WACT7B,EAAM8B,KAAK,aAI9B/F,YAAW,WACV,IAAI6E,EAAIO,GAAS,GACjBnB,EAAMvC,MAAMmD,GACMJ,GACnB,GAAG,EACJ,IACgBxD,GAAUC,GAEV+C,EACK2B,IAAI,cACJE,GAAG,cAjPzB,SAA2BpK,GAC1B,IAAIoL,EAAS7C,EAAMO,MACfK,EAAMZ,EAAMvC,QAChB,GAAI6B,GAAUA,EAAOhE,QAAUgE,EAAOhE,OAASuH,EAAOvH,OAAS,CAG9D,IADA6F,GAAS,GACFP,EAAIlD,MAAQ,IAAMuB,EAAM2B,EAAIlD,MAAM,IACxCkD,EAAIlD,QACL,GAAkB,IAAdkD,EAAIlD,MAEP,KAAOkD,EAAIlD,MAAQyB,IAAoBF,EAAM2B,EAAIlD,QAChDkD,EAAIlD,QAENsC,EAAMvC,MAAMmD,EAAIlD,MAAMkD,EAAIlD,MAC3B,KAAO,CACKyD,GAAS,GAApB,IACI2B,EAAmBD,EAAOnC,OAAOE,EAAIlD,OACrCkD,EAAIlD,MAAQ2B,IACXJ,EAAM2B,EAAIlD,QACbkD,EAAIlD,QAKDuB,EAAM2B,EAAIlD,OAAOX,KAAK+F,IACxBlC,EAAIlD,SAIPsC,EAAMvC,MAAMmD,EAAIlD,MAAMkD,EAAIlD,MAC3B,CACA8C,GACD,IAmNCW,GACF,GACD,GAED,GA5bkC,8B,kFCgBlC,UAde,CAAC4B,GACd5H,SAAS,IACiB,CAAC,KAE3B,MAAM6H,EAAuBzL,SAASQ,cAAcgL,GAEpDC,EAAQxL,iBAAiB,SAAUC,IACjC0D,EAAOK,SAAQvB,GAASA,EAAMmC,UAE9B4G,EAAQhL,UAAUiL,OAAO,kBAAkB,GAC3C,C,wKCfJ,kBACA,OA0EA,UArEa,MAEX,WACE,UAAEC,WAAWC,SAAa,GAAI,CAC5BC,UAAW,UACXC,SAAU,aACVC,SAAU,YACVC,YAAa,UACbC,WAAY,CAAC,SAAS,UAAU,OAAO,SAAS,MAAM,OAAO,OAAO,SAAS,WAAW,UAAU,SAAS,WAC3GC,gBAAiB,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,OACpFC,SAAU,CAAC,cAAc,cAAc,UAAU,QAAQ,UAAU,UAAU,WAC7EC,cAAe,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,OACpDC,YAAa,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAC5CC,WAAY,KACZC,WAAY,WACZC,SAAU,EACVC,OAAO,EACPC,oBAAoB,EACpBC,WAAY,IAId,UAAEhB,WAAWiB,YAAY,UAAEjB,WAAWC,SAAa,IAGnD,MAAMiB,GAAmC,aAAE,kBAG3CA,EAAYlB,WAAW,CACrBmB,SAAU,SAASC,IACjB,aAAE1M,MAAM2M,SAAU,SAASC,QAAQjE,IAAI+D,IACvC,aAAE1M,MAAM6M,KAAK,yBAAyBC,MACxC,IAGF,MAAMC,GAAiC,aAAE,yBAGzCA,EAAUD,OAGVN,EAAYvC,GAAG,SAAS,WACtB8C,EAAUD,QACV,aAAE9M,MAAM6M,KAAK,yBAAyB3I,MACxC,IAGAvE,SAASC,iBAAiB,SAAS,SAASC,GAC1C,MAAMC,EAAsBD,EAAEC,OAEzBA,GAAUA,EAAOwE,QAAQ,0BAA4BxE,GAAUA,EAAOwE,QAAQ,cACjFyI,EAAUD,MAEd,IAGApI,OAAO9E,iBAAiB,WAAYC,IAErB,WAAVA,EAAE8E,KAAkC,KAAd9E,EAAE+E,SACzBmI,EAAUD,MACZ,GAIJ,CAEAxB,EAAY,C,wKCxEd,kBACA,OAYA,UAPa,MAGX,aAAE,aAAahG,KAAK,aAAa,C,mFCTnC,eACA,SAuHA,UAlHkB0H,IAEC,IAAIC,kBAAkBC,IAErCA,EAAgBtJ,SAASuJ,IAEvB,GACO,cADCA,EAASC,KAIb,IAAI,IAAIC,KAAWF,EAASG,WAAY,CAEtC,KAAMD,aAAmBE,aAAc,SAGvC,IAAIF,EAAQjN,UAAUoN,SAAS,kBAAmB,SAGlD,MAAMC,EAAqBJ,EAAQlN,cAAc,YAE9CsN,EAAMC,aAAe,KACtBD,EAAME,mBAAmB,aAAa,IAAAC,mBAIxC,MAAMC,EAAgCR,EAAQlN,cAAc,gBAC1D2N,EAAqCD,EAAiBrK,iBAAiB,eAEzE,GAAGsK,EAAUpK,OAAS,EAAG,CACvBoK,EAAU,GAAG1N,UAAUyD,IAAI,mBAE3B,IAAK,IAAImE,EAAI,EAAGA,EAAI8F,EAAUpK,OAAQsE,IACpC8F,EAAU9F,GAAGtH,MAAMoD,QAAU,OAG/B+J,EAAiBF,mBAAmB,aAAa,IAAAI,wBAAuBD,EAAUpK,OAAS,GAC7F,CACF,CAGJ,GAEA,IAIKsK,QAAQrO,SAASQ,cAAc6M,GAAW,CACjDiB,WAAW,EACXC,SAAS,IAIXvO,SAASC,iBAAiB,SAAUC,I,MAClC,MAAMC,EAAsBD,EAAEC,OAY9B,GATGA,GAAUA,EAAOM,UAAUoN,SAAS,oBACV1N,EAAOwE,QAAQ,YAEpC5D,MAAMyN,UAAY,OAExBrO,EAAOI,cAAcG,UAIpBP,GAAUA,EAAOM,UAAUoN,SAAS,oBAAqB,CAC1D3N,EAAEkE,iBAEF,MAAMqK,EAAyCtO,EAAOwE,QAAQ,gBAAgBd,iBAAiB,eAE/F,IAAK,IAAIwE,EAAI,EAAGA,EAAIoG,EAAc1K,OAAQsE,IACxCoG,EAAcpG,GAAGtH,MAAMoD,QAAU,OAGnChE,EAAOuO,UAAY,yCACnBvO,EAAOM,UAAUC,OAAO,mBAC1B,CAGA,GAAGP,GAAUA,EAAOM,UAAUoN,SAAS,sBAAuB,CAC5D3N,EAAEkE,iBAEF,MAAM8J,EAAgC/N,EAAOwE,QAAQ,gBAAgBnE,cAAc,0BACjFmO,EAAyCT,EAAiBrK,iBAAiB,mBAK7E,GAFkD,QAAlD,EAAAqK,EAAiB1N,cAAc,2BAAmB,SAAEC,UAAUC,OAAO,mBAElEiO,EAAc5K,OAAS,EAAG,CAE3B,IAAK,IAAIsE,EAAI,EAAGA,EAAI,EAAGA,IACrBsG,EAActG,GAAGtH,MAAMoD,QAAU,OAGnCwK,EAAc,GAAGlO,UAAUyD,IAAI,mBAE/B/D,EAAOK,cAAc,QAAQkO,UAAY,IAAGC,EAAc5K,OAAS,EAErE,KAAO,CAEL,IAAK,IAAIsE,EAAI,EAAGA,EAAIsG,EAAc5K,OAAQsE,IACxCsG,EAActG,GAAGtH,MAAMoD,QAAU,OAGnChE,EAAOuO,UAAY,qBACnBvO,EAAOM,UAAUyD,IAAI,mBACvB,CAEF,IAEA,C,uKCpHJ,kBACA,OAqEA,UAhEgB,KAGd,MAuBM0K,EAAS,CACbC,OAAQ,EAERC,UAAU,EAEVC,UAAU,EAEVC,eAAe,EAEfC,kBAAmB,UACnBC,iBAAkB,mBAElBC,MAAO,UAEPC,wBAAyB,GAGzBC,SAAU,OAAF,UAxCG,CACXC,UAAW,WACT,MAAO,UACT,EACAC,UAAW,WACT,MAAO,uBACT,EAEAC,YAAY,WACV,MAAM,WACR,EAEAC,aAAc,WACZ,MAAO,iCACT,EAEAC,gBAAiB,SAASxP,GAExB,MADQ,8BAA+BA,EAAEyP,QAAS,YACrB,IAAdzP,EAAEyP,QAAiB,IAAM,KAC1C,KA4BF,UAAE3J,GAAG4J,QAAQC,SAASC,IAAI,QAAS,SAEnC,aAAE,eAAeF,QAAQ,OAAD,QACtB7J,YAAa,qBAEV6I,IAIL5O,SAASQ,cAAc,gBAAgBP,iBAAiB,SAAUC,KAChE,aAAE,eAAe8I,KAAK,GAAGzB,QAAQ,SAAS,GAC1C,C,uKCnEJ,kBAEA,YAEA,YACA,YACA,WACA,YACA,WAIA,aAGA,aAAEvH,UAAU+P,OAAM,WAGhB,MAAMC,EAAsB,IAAI,UAAM,mBAAoB,iBAAiB3M,OACxExB,OAAO,UAAehC,gBAAgBE,WAKzC,aAAO,WAAY,CAAC6D,OAAQ,CAACoM,MAG7B,gBAGA,gBAGA,gBAGA,aAAS,eAIX,G,kHCrCA,kCAAuCC,GAErC,MAAO,yHAEmEA,qEAG5E,C,0GCPA,4BAEE,MAAO,kLAKT,C","sources":["webpack://gulp-html-scss/./src/js/components/visitor.pattern.js","webpack://gulp-html-scss/./src/js/library/sumbiot/core/index.js","webpack://gulp-html-scss/./src/js/library/sumbiot/modules/modal/index.js","webpack://gulp-html-scss/./src/js/library/sumbiot/modules/modal/components/modal.js","webpack://gulp-html-scss/./node_modules/jquery.maskedinput/src/jquery.maskedinput.js","webpack://gulp-html-scss/./src/js/modules/burger.ts","webpack://gulp-html-scss/./src/js/modules/date.ts","webpack://gulp-html-scss/./src/js/modules/mask.ts","webpack://gulp-html-scss/./src/js/modules/observer.ts","webpack://gulp-html-scss/./src/js/modules/select2-news.ts","webpack://gulp-html-scss/./src/js/news.ts","webpack://gulp-html-scss/./src/js/templates/unwrapCommentsTemplate.ts","webpack://gulp-html-scss/./src/js/templates/unwrapTemplate.ts"],"sourcesContent":["import Support from '../core/functions'\r\n\r\n/**\r\n *  Добавляет новую функциональность уже существующим классам, не изменяя исходный код класса\r\n * */\r\nexport default class VisitorPattern {\r\n\r\n  /**\r\n   * Посититель для экземпляра модального окна (поиска) которое реализует\r\n   * закрытия выподающего меню\r\n   * @param {Object} instanceClass - экземпляр класса\r\n   * @return {void}\r\n   */\r\n  static modalSearchMod(instanceClass) {\r\n\r\n    instanceClass.upgrade = function () {\r\n\r\n      document.addEventListener('click', (e) => {\r\n        let target = e.target;\r\n\r\n        if (target && target.matches(this._trigger) || target && target.parentElement?.matches(this._trigger)) {\r\n\r\n          document.querySelector('.aBurger--active')?.classList.remove('aBurger--active')\r\n\r\n        }\r\n      },true)\r\n\r\n      return this\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","\r\n/**\r\n *  Ядро Sumbiot\r\n * */\r\nexport default class Core {\r\n\r\n  /**\r\n   * Ширина скролла прокрутки\r\n   * @return {number}\r\n   */\r\n  calcScroll() {\r\n    let div = document.createElement('div');\r\n\r\n    div.style.width = '50px';\r\n    div.style.height = '50px';\r\n    div.style.overflowY = 'scroll';\r\n    div.style.visibility = 'hidden';\r\n\r\n    document.body.appendChild(div);\r\n\r\n    let scrollWidth = div.offsetWidth - div.clientWidth;\r\n\r\n    div.remove();\r\n\r\n    return scrollWidth;\r\n  }\r\n\r\n  /**\r\n   * Переполнение document\r\n   * @param {string} overflow - переполнения документа\r\n   * @param {string} marginRight - отступ документа с право\r\n   * @return {void}\r\n   */\r\n  overflowBody(overflow= '',marginRight = '') {\r\n    document.body.style.overflow = overflow;\r\n    document.body.style.marginRight = marginRight ? `${marginRight}px` : '';\r\n  }\r\n\r\n\r\n}\r\n","import Core from \"../../core\"\r\n\r\n/**\r\n *  Модальное окно Ядро\r\n * */\r\nexport default class ModalCore extends Core {\r\n\r\n  /**\r\n   * Добавляет новый метод к модалки, не изменяя исходный код класса(первоначальную реализацию) {паттерн Visitor}\r\n   * @param {Function} visitor - добавляет функционал instanceClass\r\n   * @return {this}\r\n   */\r\n  accept(visitor) {\r\n    visitor(this)\r\n\r\n    return this\r\n  }\r\n}\r\n","import ModalCore from \"../\";\r\n\r\n/**\r\n *  Модальное окно стандарт\r\n * */\r\nexport default class Modal extends ModalCore {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} triggerSelector - селектор который открывает модальное окно.\r\n   * @param {string} modalSelector   - селектор модального окна которое мы будем открывать\r\n   *\r\n   * @param {Object=}     options                     - конфигурация.\r\n   *\r\n   * @param {string}      [options.closeSelector]     - селектор который закрывает модальное окно\r\n   * @param {boolean}     [options.closeClickOverlay] - будет ли закрываться окно по клику по подложки\r\n   *\r\n   * @param {string}      [options.modalGroup]        - группирует модалки в группы\r\n   *\r\n   * @param {null|string} [options.modalParent]       - селектор родитель куда вставляем модальное окно.\r\n   *\r\n   * @param {boolean}     [options.overflowHidden]    - убрать скролл у документа при появлении модального окна\r\n   *\r\n   * @param {string}      [options.modalDisplay]           - отображение\r\n   */\r\n  constructor(triggerSelector, modalSelector,\r\n              {\r\n                closeSelector = '[data-sumbiot-modal-close]',\r\n                closeClickOverlay = false,\r\n\r\n                modalGroup = '[data-sumbiot-modal]',\r\n\r\n                modalParent = null,\r\n\r\n                overflowHidden = false,\r\n\r\n                modalDisplay = 'block',\r\n              } = {}) {\r\n\r\n    super()\r\n\r\n    this._trigger = triggerSelector\r\n\r\n    this.modal = document.querySelector(modalSelector)\r\n\r\n    this._close = this.modal?.querySelector(closeSelector)\r\n    this._closeClickOverlay = closeClickOverlay || !this.modal?.dataset.sumbiotOverlay || this.modal?.dataset.sumbiotOverlay === 'true' || false\r\n\r\n    this._modalGroup = modalGroup\r\n\r\n    this._modalParent = modalParent || this.modal?.dataset.sumbiotParent || false\r\n\r\n    this._overflowHidden = overflowHidden || (this.modal?.dataset.sumbiotOverflow && this.modal?.dataset.sumbiotOverflow === 'true') || false\r\n\r\n    this._display = modalDisplay\r\n  }\r\n\r\n  /**\r\n   * Инициализация модального окона\r\n   * @return {this|Object}\r\n   */\r\n  init() {\r\n\r\n    if (!this.modal) {\r\n      console.log(\"Проверте у всех ли модальных окон, заданы корректные ID\")\r\n\r\n      return {}\r\n    }\r\n\r\n    this.hideAllModals()\r\n\r\n    this._showHandler()\r\n\r\n    this._closeHandler()\r\n\r\n    return this\r\n  }\r\n\r\n  /**\r\n   * Скрывает все модальные окна\r\n   * @param {boolean} group - скрыть только группу, которые относятся к модальному окну, которое мы хотим показать\r\n   * @return {void}\r\n   */\r\n  hideAllModals(group = false) {\r\n    let modals;\r\n\r\n    if(group) {\r\n      modals = document.querySelectorAll(`${this._modalGroup.slice(0,this._modalGroup.length - 1)}${this.modal.dataset.sumbiotModal ? `=\"${this.modal.dataset.sumbiotModal}\"` : ''}]`);\r\n\r\n      if(!modals.length) {\r\n        modals = document.querySelectorAll(this._modalGroup)\r\n      }\r\n    } else {\r\n      modals = document.querySelectorAll(this._modalGroup)\r\n    }\r\n\r\n    modals.forEach(modal => {\r\n      modal.classList.add('animated', 'fadeIn');\r\n      modal.style.display = 'none';\r\n    })\r\n\r\n    this.overflowBody()\r\n  }\r\n\r\n  /**\r\n   * Обработчик события клика по элементу который открывает модальное окно\r\n   * @return {void}\r\n   */\r\n  _showHandler() {\r\n    document.addEventListener('click', (e) => {\r\n      let target = e.target;\r\n\r\n      if (target && target.matches(this._trigger) || target && target.parentElement?.matches(this._trigger)) {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n\r\n        if (target.parentElement.matches(this._trigger)){\r\n          target = target.parentElement\r\n        }\r\n\r\n        this._eventTrigger = target\r\n        this.show()\r\n\r\n        setTimeout(() => target.blur(),150)\r\n      }\r\n    }, true)\r\n  }\r\n\r\n  /**\r\n   * Показать модальное окно\r\n   * @return {void}\r\n   */\r\n  show(){\r\n    this.hideAllModals(true)\r\n\r\n    this._modalPosition()\r\n\r\n    this.modal.style.display = this._display;\r\n  }\r\n\r\n  /**\r\n   * Позицианирует модальное окно в нужное место\r\n   * @return {void}\r\n   */\r\n  _modalPosition(){\r\n    if (this._overflowHidden) this.overflowBody('hidden',this.calcScroll())\r\n\r\n    if(this._modalParent) {\r\n      const modalParent = this._eventTrigger.closest(this._modalParent) || document.querySelector(this._modalParent) || this._eventTrigger.parentElement\r\n\r\n      modalParent.append(this.modal)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Обработчик события клика по элементу который закрывает модальное окно\r\n   * @return {void}\r\n   */\r\n  _closeHandler() {\r\n    this._close?.addEventListener('click', (e) => {\r\n      if (e.target) {\r\n        e.preventDefault()\r\n\r\n        this.close()\r\n      }\r\n    })\r\n\r\n    this.modal?.addEventListener('click', (e) => {\r\n      if (e.target) {\r\n        // e.stopPropagation()\r\n\r\n        this._closeModalOverlay(e)\r\n      }\r\n    })\r\n\r\n    window.addEventListener(\"keydown\", (e) => {\r\n      if(e.key === \"Escape\" || e.keyCode === 27) {\r\n\r\n        this.hideAllModals()\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Скрыть модальное окно\r\n   * @return {void}\r\n   */\r\n  close() {\r\n    this.overflowBody()\r\n\r\n    this.modal.style.display = \"none\";\r\n  }\r\n\r\n  /**\r\n   * Скрывает модальне окно по клику на подложку\r\n   * @return {void}\r\n   */\r\n  _closeModalOverlay(e) {\r\n\r\n    if (e.target === this.modal && this._closeClickOverlay) {\r\n      this.overflowBody()\r\n\r\n      this.modal.style.display = \"none\";\r\n    }\r\n  }\r\n\r\n}\r\n","(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object') {\n        // Node/CommonJS\n        factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n\nvar ua = navigator.userAgent,\n\tiPhone = /iphone/i.test(ua),\n\tchrome = /chrome/i.test(ua),\n\tandroid = /android/i.test(ua),\n\tcaretTimeoutId;\n\n$.mask = {\n\t//Predefined character definitions\n\tdefinitions: {\n\t\t'9': \"[0-9]\",\n\t\t'a': \"[A-Za-z]\",\n\t\t'*': \"[A-Za-z0-9]\"\n\t},\n\tautoclear: true,\n\tdataName: \"rawMaskFn\",\n\tplaceholder: '_'\n};\n\n$.fn.extend({\n\t//Helper Function for Caret positioning\n\tcaret: function(begin, end) {\n\t\tvar range;\n\n\t\tif (this.length === 0 || this.is(\":hidden\") || this.get(0) !== document.activeElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof begin == 'number') {\n\t\t\tend = (typeof end === 'number') ? end : begin;\n\t\t\treturn this.each(function() {\n\t\t\t\tif (this.setSelectionRange) {\n\t\t\t\t\tthis.setSelectionRange(begin, end);\n\t\t\t\t} else if (this.createTextRange) {\n\t\t\t\t\trange = this.createTextRange();\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\trange.moveEnd('character', end);\n\t\t\t\t\trange.moveStart('character', begin);\n\t\t\t\t\trange.select();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tif (this[0].setSelectionRange) {\n\t\t\t\tbegin = this[0].selectionStart;\n\t\t\t\tend = this[0].selectionEnd;\n\t\t\t} else if (document.selection && document.selection.createRange) {\n\t\t\t\trange = document.selection.createRange();\n\t\t\t\tbegin = 0 - range.duplicate().moveStart('character', -100000);\n\t\t\t\tend = begin + range.text.length;\n\t\t\t}\n\t\t\treturn { begin: begin, end: end };\n\t\t}\n\t},\n\tunmask: function() {\n\t\treturn this.trigger(\"unmask\");\n\t},\n\tmask: function(mask, settings) {\n\t\tvar input,\n\t\t\tdefs,\n\t\t\ttests,\n\t\t\tpartialPosition,\n\t\t\tfirstNonMaskPos,\n            lastRequiredNonMaskPos,\n            len,\n            oldVal;\n\n\t\tif (!mask && this.length > 0) {\n\t\t\tinput = $(this[0]);\n            var fn = input.data($.mask.dataName)\n\t\t\treturn fn?fn():undefined;\n\t\t}\n\n\t\tsettings = $.extend({\n\t\t\tautoclear: $.mask.autoclear,\n\t\t\tplaceholder: $.mask.placeholder, // Load default placeholder\n\t\t\tcompleted: null\n\t\t}, settings);\n\n\n\t\tdefs = $.mask.definitions;\n\t\ttests = [];\n\t\tpartialPosition = len = mask.length;\n\t\tfirstNonMaskPos = null;\n\n\t\tmask = String(mask);\n\n\t\t$.each(mask.split(\"\"), function(i, c) {\n\t\t\tif (c == '?') {\n\t\t\t\tlen--;\n\t\t\t\tpartialPosition = i;\n\t\t\t} else if (defs[c]) {\n\t\t\t\ttests.push(new RegExp(defs[c]));\n\t\t\t\tif (firstNonMaskPos === null) {\n\t\t\t\t\tfirstNonMaskPos = tests.length - 1;\n\t\t\t\t}\n                if(i < partialPosition){\n                    lastRequiredNonMaskPos = tests.length - 1;\n                }\n\t\t\t} else {\n\t\t\t\ttests.push(null);\n\t\t\t}\n\t\t});\n\n\t\treturn this.trigger(\"unmask\").each(function() {\n\t\t\tvar input = $(this),\n\t\t\t\tbuffer = $.map(\n    \t\t\t\tmask.split(\"\"),\n    \t\t\t\tfunction(c, i) {\n    \t\t\t\t\tif (c != '?') {\n    \t\t\t\t\t\treturn defs[c] ? getPlaceholder(i) : c;\n    \t\t\t\t\t}\n    \t\t\t\t}),\n\t\t\t\tdefaultBuffer = buffer.join(''),\n\t\t\t\tfocusText = input.val();\n\n            function tryFireCompleted(){\n                if (!settings.completed) {\n                    return;\n                }\n\n                for (var i = firstNonMaskPos; i <= lastRequiredNonMaskPos; i++) {\n                    if (tests[i] && buffer[i] === getPlaceholder(i)) {\n                        return;\n                    }\n                }\n                settings.completed.call(input);\n            }\n\n            function getPlaceholder(i){\n                if(i < settings.placeholder.length)\n                    return settings.placeholder.charAt(i);\n                return settings.placeholder.charAt(0);\n            }\n\n\t\t\tfunction seekNext(pos) {\n\t\t\t\twhile (++pos < len && !tests[pos]);\n\t\t\t\treturn pos;\n\t\t\t}\n\n\t\t\tfunction seekPrev(pos) {\n\t\t\t\twhile (--pos >= 0 && !tests[pos]);\n\t\t\t\treturn pos;\n\t\t\t}\n\n\t\t\tfunction shiftL(begin,end) {\n\t\t\t\tvar i,\n\t\t\t\t\tj;\n\n\t\t\t\tif (begin<0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (i = begin, j = seekNext(end); i < len; i++) {\n\t\t\t\t\tif (tests[i]) {\n\t\t\t\t\t\tif (j < len && tests[i].test(buffer[j])) {\n\t\t\t\t\t\t\tbuffer[i] = buffer[j];\n\t\t\t\t\t\t\tbuffer[j] = getPlaceholder(j);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tj = seekNext(j);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twriteBuffer();\n\t\t\t\tinput.caret(Math.max(firstNonMaskPos, begin));\n\t\t\t}\n\n\t\t\tfunction shiftR(pos) {\n\t\t\t\tvar i,\n\t\t\t\t\tc,\n\t\t\t\t\tj,\n\t\t\t\t\tt;\n\n\t\t\t\tfor (i = pos, c = getPlaceholder(pos); i < len; i++) {\n\t\t\t\t\tif (tests[i]) {\n\t\t\t\t\t\tj = seekNext(i);\n\t\t\t\t\t\tt = buffer[i];\n\t\t\t\t\t\tbuffer[i] = c;\n\t\t\t\t\t\tif (j < len && tests[j].test(t)) {\n\t\t\t\t\t\t\tc = t;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction androidInputEvent(e) {\n\t\t\t\tvar curVal = input.val();\n\t\t\t\tvar pos = input.caret();\n\t\t\t\tif (oldVal && oldVal.length && oldVal.length > curVal.length ) {\n\t\t\t\t\t// a deletion or backspace happened\n\t\t\t\t\tcheckVal(true);\n\t\t\t\t\twhile (pos.begin > 0 && !tests[pos.begin-1])\n\t\t\t\t\t\tpos.begin--;\n\t\t\t\t\tif (pos.begin === 0)\n\t\t\t\t\t{\n\t\t\t\t\t\twhile (pos.begin < firstNonMaskPos && !tests[pos.begin])\n\t\t\t\t\t\t\tpos.begin++;\n\t\t\t\t\t}\n\t\t\t\t\tinput.caret(pos.begin,pos.begin);\n\t\t\t\t} else {\n\t\t\t\t\tvar pos2 = checkVal(true);\n\t\t\t\t\tvar lastEnteredValue = curVal.charAt(pos.begin);\n\t\t\t\t\tif (pos.begin < len){\n\t\t\t\t\t\tif(!tests[pos.begin]){\n\t\t\t\t\t\t\tpos.begin++;\n\t\t\t\t\t\t\tif(tests[pos.begin].test(lastEnteredValue)){\n\t\t\t\t\t\t\t\tpos.begin++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(tests[pos.begin].test(lastEnteredValue)){\n\t\t\t\t\t\t\t\tpos.begin++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tinput.caret(pos.begin,pos.begin);\n\t\t\t\t}\n\t\t\t\ttryFireCompleted();\n\t\t\t}\n\n\n\t\t\tfunction blurEvent(e) {\n                checkVal();\n\n                if (input.val() != focusText)\n                    input.change();\n            }\n\n\t\t\tfunction keydownEvent(e) {\n                if (input.prop(\"readonly\")){\n                    return;\n                }\n\n\t\t\t\tvar k = e.which || e.keyCode,\n\t\t\t\t\tpos,\n\t\t\t\t\tbegin,\n\t\t\t\t\tend;\n                    oldVal = input.val();\n\t\t\t\t//backspace, delete, and escape get special treatment\n\t\t\t\tif (k === 8 || k === 46 || (iPhone && k === 127)) {\n\t\t\t\t\tpos = input.caret();\n\t\t\t\t\tbegin = pos.begin;\n\t\t\t\t\tend = pos.end;\n\n\t\t\t\t\tif (end - begin === 0) {\n\t\t\t\t\t\tbegin=k!==46?seekPrev(begin):(end=seekNext(begin-1));\n\t\t\t\t\t\tend=k===46?seekNext(end):end;\n\t\t\t\t\t}\n\t\t\t\t\tclearBuffer(begin, end);\n\t\t\t\t\tshiftL(begin, end - 1);\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else if( k === 13 ) { // enter\n\t\t\t\t\tblurEvent.call(this, e);\n\t\t\t\t} else if (k === 27) { // escape\n\t\t\t\t\tinput.val(focusText);\n\t\t\t\t\tinput.caret(0, checkVal());\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction keypressEvent(e) {\n                if (input.prop(\"readonly\")){\n                    return;\n                }\n\n\t\t\t\tvar k = e.which || e.keyCode,\n\t\t\t\t\tpos = input.caret(),\n\t\t\t\t\tp,\n\t\t\t\t\tc,\n\t\t\t\t\tnext;\n\n\t\t\t\tif (e.ctrlKey || e.altKey || e.metaKey || k < 32) {//Ignore\n\t\t\t\t\treturn;\n\t\t\t\t} else if ( k && k !== 13 ) {\n\t\t\t\t\tif (pos.end - pos.begin !== 0){\n\t\t\t\t\t\tclearBuffer(pos.begin, pos.end);\n\t\t\t\t\t\tshiftL(pos.begin, pos.end-1);\n\t\t\t\t\t}\n\n\t\t\t\t\tp = seekNext(pos.begin - 1);\n\t\t\t\t\tif (p < len) {\n\t\t\t\t\t\tc = String.fromCharCode(k);\n\t\t\t\t\t\tif (tests[p].test(c)) {\n\t\t\t\t\t\t\tshiftR(p);\n\n\t\t\t\t\t\t\tbuffer[p] = c;\n\t\t\t\t\t\t\twriteBuffer();\n\t\t\t\t\t\t\tnext = seekNext(p);\n\n\t\t\t\t\t\t\tif(android){\n\t\t\t\t\t\t\t\t//Path for CSP Violation on FireFox OS 1.1\n\t\t\t\t\t\t\t\tvar proxy = function() {\n\t\t\t\t\t\t\t\t\t$.proxy($.fn.caret,input,next)();\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tsetTimeout(proxy,0);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tinput.caret(next);\n\t\t\t\t\t\t\t}\n                            if(pos.begin <= lastRequiredNonMaskPos){\n\t\t                         tryFireCompleted();\n                             }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction clearBuffer(start, end) {\n\t\t\t\tvar i;\n\t\t\t\tfor (i = start; i < end && i < len; i++) {\n\t\t\t\t\tif (tests[i]) {\n\t\t\t\t\t\tbuffer[i] = getPlaceholder(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction writeBuffer() { input.val(buffer.join('')); }\n\n\t\t\tfunction checkVal(allow) {\n\t\t\t\t//try to place characters where they belong\n\t\t\t\tvar test = input.val(),\n\t\t\t\t\tlastMatch = -1,\n\t\t\t\t\ti,\n\t\t\t\t\tc,\n\t\t\t\t\tpos;\n\n\t\t\t\tfor (i = 0, pos = 0; i < len; i++) {\n\t\t\t\t\tif (tests[i]) {\n\t\t\t\t\t\tbuffer[i] = getPlaceholder(i);\n\t\t\t\t\t\twhile (pos++ < test.length) {\n\t\t\t\t\t\t\tc = test.charAt(pos - 1);\n\t\t\t\t\t\t\tif (tests[i].test(c)) {\n\t\t\t\t\t\t\t\tbuffer[i] = c;\n\t\t\t\t\t\t\t\tlastMatch = i;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (pos > test.length) {\n\t\t\t\t\t\t\tclearBuffer(i + 1, len);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n                        if (buffer[i] === test.charAt(pos)) {\n                            pos++;\n                        }\n                        if( i < partialPosition){\n                            lastMatch = i;\n                        }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (allow) {\n\t\t\t\t\twriteBuffer();\n\t\t\t\t} else if (lastMatch + 1 < partialPosition) {\n\t\t\t\t\tif (settings.autoclear || buffer.join('') === defaultBuffer) {\n\t\t\t\t\t\t// Invalid value. Remove it and replace it with the\n\t\t\t\t\t\t// mask, which is the default behavior.\n\t\t\t\t\t\tif(input.val()) input.val(\"\");\n\t\t\t\t\t\tclearBuffer(0, len);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Invalid value, but we opt to show the value to the\n\t\t\t\t\t\t// user and allow them to correct their mistake.\n\t\t\t\t\t\twriteBuffer();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\twriteBuffer();\n\t\t\t\t\tinput.val(input.val().substring(0, lastMatch + 1));\n\t\t\t\t}\n\t\t\t\treturn (partialPosition ? i : firstNonMaskPos);\n\t\t\t}\n\n\t\t\tinput.data($.mask.dataName,function(){\n\t\t\t\treturn $.map(buffer, function(c, i) {\n\t\t\t\t\treturn tests[i]&&c!=getPlaceholder(i) ? c : null;\n\t\t\t\t}).join('');\n\t\t\t});\n\n\n\t\t\tinput\n\t\t\t\t.one(\"unmask\", function() {\n\t\t\t\t\tinput\n\t\t\t\t\t\t.off(\".mask\")\n\t\t\t\t\t\t.removeData($.mask.dataName);\n\t\t\t\t})\n\t\t\t\t.on(\"focus.mask\", function() {\n                    if (input.prop(\"readonly\")){\n                        return;\n                    }\n\n\t\t\t\t\tclearTimeout(caretTimeoutId);\n\t\t\t\t\tvar pos;\n\n\t\t\t\t\tfocusText = input.val();\n\n\t\t\t\t\tpos = checkVal();\n\n\t\t\t\t\tcaretTimeoutId = setTimeout(function(){\n                        if(input.get(0) !== document.activeElement){\n                            return;\n                        }\n\t\t\t\t\t\twriteBuffer();\n\t\t\t\t\t\tif (pos == mask.replace(\"?\",\"\").length) {\n\t\t\t\t\t\t\tinput.caret(0, pos);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinput.caret(pos);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\t\t\t\t})\n\t\t\t\t.on(\"blur.mask\", blurEvent)\n\t\t\t\t.on(\"keydown.mask\", keydownEvent)\n\t\t\t\t.on(\"keypress.mask\", keypressEvent)\n\t\t\t\t.on(\"input.mask paste.mask\", function() {\n                    if (input.prop(\"readonly\")){\n                        return;\n                    }\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tvar pos=checkVal(true);\n\t\t\t\t\t\tinput.caret(pos);\n                        tryFireCompleted();\n\t\t\t\t\t}, 0);\n\t\t\t\t});\n                if (chrome && android)\n                {\n                    input\n                        .off('input.mask')\n                        .on('input.mask', androidInputEvent);\n                }\n\t\t\t\tcheckVal(); //Perform initial check for existing values\n\t\t});\n\t}\n});\n}));\n","import Modal from \"../library/sumbiot/modules/modal/components/modal\";\n\n/**\n * Выподающие меню\n */\nconst burger = (burgerSelector: string, {\n  modals = []\n}: {modals?: Array<Modal>} ={}): void => {\n\n  const $burger: HTMLElement = document.querySelector(burgerSelector)\n\n  $burger.addEventListener(\"click\", (e) => {\n    modals.forEach(modal => modal.close())\n\n    $burger.classList.toggle(\"aBurger--active\")\n  })\n\n}\n\nexport default burger;\n","import $ from \"jquery\";\nimport 'jquery-ui/ui/widgets/datepicker'\n\n/**\n * Настройки даты и времени\n */\nconst date = () => {\n\n  function datepicker() {\n    $.datepicker.regional['ru'] = {\n      closeText: 'Закрыть',\n      prevText: 'Предыдущий',\n      nextText: 'Следующий',\n      currentText: 'Сегодня',\n      monthNames: ['Январь','Февраль','Март','Апрель','Май','Июнь','Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь'],\n      monthNamesShort: ['Янв','Фев','Мар','Апр','Май','Июн','Июл','Авг','Сен','Окт','Ноя','Дек'],\n      dayNames: ['воскресенье','понедельник','вторник','среда','четверг','пятница','суббота'],\n      dayNamesShort: ['вск','пнд','втр','срд','чтв','птн','сбт'],\n      dayNamesMin: ['Вс','Пн','Вт','Ср','Чт','Пт','Сб'],\n      weekHeader: 'Не',\n      dateFormat: 'dd.mm.yy',\n      firstDay: 1,\n      isRTL: false,\n      showMonthAfterYear: false,\n      yearSuffix: '',\n\n    };\n\n    $.datepicker.setDefaults($.datepicker.regional['ru']);\n\n\n    const $datepicker: JQuery<HTMLElement> = $(\".js-datepicker\")\n\n    // инициализация\n    $datepicker.datepicker({\n      onSelect: function(date){\n        $(this).children( 'input').first().val(date)\n        $(this).find('.ui-datepicker-inline').hide()\n      }\n    });\n\n    const $calendar: JQuery<HTMLElement> = $('.ui-datepicker-inline')\n\n    // скрываем календари\n    $calendar.hide()\n\n    // показ календаря при клике на input\n    $datepicker.on(\"click\", function(){\n      $calendar.hide()\n      $(this).find('.ui-datepicker-inline').show()\n    })\n\n    // скрываем календарь если клюкнули не на него\n    document.addEventListener('click', function(e: MouseEvent){\n      const target: HTMLElement = e.target as HTMLElement;\n\n      if(!(target && target.closest('.ui-datepicker-inline') || target && target.closest('.js-input') )){\n        $calendar.hide()\n      }\n    })\n\n    // скрываем календарь по нажатию Esc\n    window.addEventListener(\"keydown\", (e) => {\n\n      if(e.key === \"Escape\" || e.keyCode === 27) {\n        $calendar.hide()\n      }\n\n    })\n\n  }\n\n  datepicker()\n}\n\nexport default date;\n","import $ from \"jquery\";\nimport 'jquery.maskedinput/src/jquery.maskedinput'\n\n/**\n * Настройки масок\n */\nconst mask = () => {\n\n  // маска для даты\n  $(\".js-input\").mask('99.99.9999')\n\n}\n\nexport default mask;\n","import {unwrapTemplate} from \"../templates/unwrapTemplate\";\nimport {unwrapCommentsTemplate} from \"../templates/unwrapCommentsTemplate\";\n\n/**\n * Наблюдатель\n */\nconst observer = (selector: string): void => {\n\n  const observer = new MutationObserver((mutationRecords: MutationRecord[]): void => {\n\n    mutationRecords.forEach((mutation: MutationRecord): void => {\n\n      switch (mutation.type) {\n        case \"childList\":\n\n          // отслеживаем только новые\n          for(let element of mutation.addedNodes) {\n            // текстовые пропускаем\n            if (!(element instanceof HTMLElement)) continue\n\n            // элементы с без класса \"aContent__item\" пропускаем\n            if(!element.classList.contains('aContent__item')) continue\n\n            // рендер развернуть новость\n            const $idea: HTMLElement = element.querySelector('.js-idea')\n\n            if($idea.scrollHeight > 480) {\n              $idea.insertAdjacentHTML('beforeend', unwrapTemplate())\n            }\n\n            // рендер развернуть комментарии\n            const $commentsWrapper: HTMLElement = element.querySelector('.js-comments'),\n              $comments: NodeListOf<HTMLElement> = $commentsWrapper.querySelectorAll('.js-comment')\n\n            if($comments.length > 2) {\n              $comments[1].classList.add('aComment--after')\n\n              for (let i = 2; i < $comments.length; i++) {\n                $comments[i].style.display = 'none'\n              }\n\n              $commentsWrapper.insertAdjacentHTML('beforeend', unwrapCommentsTemplate($comments.length - 2))\n            }\n          }\n\n        break;\n      }\n\n    })\n  })\n\n  // настраиваем и запускаем наблюдатель\n  observer.observe(document.querySelector(selector), {\n    childList: true, // наблюдать за непосредственными детьми\n    subtree: true, // и более глубокими потомками\n  });\n\n  // делегирование\n  document.addEventListener('click', (e: MouseEvent): void => {\n    const target: HTMLElement = e.target as HTMLElement;\n\n    // разворачиваем новость\n    if(target && target.classList.contains('js-unwrap-idea')) {\n      const $idea: HTMLElement = target.closest('.js-idea') as HTMLElement;\n\n      $idea.style.maxHeight = '100%'\n\n      target.parentElement.remove()\n    }\n\n    // скрыть комментарии\n    if(target && target.classList.contains('js-comments-hide')) {\n      e.preventDefault()\n\n      const $showComments: NodeListOf<HTMLElement> = target.closest('.js-comments').querySelectorAll('.js-comment')\n\n      for (let i = 0; i < $showComments.length; i++) {\n        $showComments[i].style.display = 'none'\n      }\n\n      target.innerHTML = `Предыдущие комментарии (<span></span>)`\n      target.classList.remove('js-comments-hide')\n    }\n\n    // разворачиваем комментарии\n    if(target && target.classList.contains('js-unwrap-comments')) {\n      e.preventDefault()\n\n      const $commentsWrapper: HTMLElement = target.closest('.js-comments').querySelector('.aNews__comments-inner'),\n        $hideComments: NodeListOf<HTMLElement> = $commentsWrapper.querySelectorAll('[style*=\"none\"]')\n\n\n      $commentsWrapper.querySelector('.aComment--after')?.classList.remove('aComment--after')\n\n      if($hideComments.length > 2) {\n\n        for (let i = 0; i < 2; i++) {\n          $hideComments[i].style.display = 'flex'\n        }\n\n        $hideComments[1].classList.add('aComment--after')\n\n        target.querySelector('span').innerHTML = `${$hideComments.length - 2}`\n\n      } else {\n\n        for (let i = 0; i < $hideComments.length; i++) {\n          $hideComments[i].style.display = 'flex'\n        }\n\n        target.innerHTML = `Скрыть комментарии`\n        target.classList.add('js-comments-hide')\n      }\n\n    }\n\n  })\n\n}\n\nexport default observer;\n","import $ from \"jquery\";\nimport 'select2'\n\n/**\n * Кастомный выпадающий список\n */\nconst select2 = () => {\n\n  /** русификация */\n  const lang = {\n    searching: function () {\n      return \"Поиск...\";\n    },\n    noResults: function () {\n      return \"Совпадений не найдено\";\n    },\n\n    loadingMore:function(){\n      return\"Загрузка…\";\n    },\n\n    errorLoading: function () {\n      return \"Результаты не удалось загрузить\";\n    },\n\n    maximumSelected: function(e){\n      let str=\"Вы можете выбрать не более \"+ e.maximum +\" элемент\";\n      return str += (e.maximum === 1) ? 'a' : 'ов';\n    }\n  }\n\n  /** конфигурация однострочного списка */\n  const config = {\n    debug : false, //-> включить отладочные сообщения в консоли браузера\n\n    disabled: false, //-> значение true, управление выбором будет отключено\n\n    multiple: false, //-> включает режим множественного выбора\n\n    selectOnClose: false, //-> автоматически выбирает пункт при закрытии раскрывающегося списка\n\n    selectionCssClass: 'sSelect', //-> добавляет дополнительные классы CSS в активный список. по умолчанию: ''\n    dropdownCssClass: 'sSelect-dropdown', //-> добавляет дополнительные классы CSS в раскрывающийся список. по умолчанию: ''\n\n    theme: 'default', //-> настройка темы. по умолчанию: default\n\n    minimumResultsForSearch: 10, //-> минимальное количество результатов, необходимое для отображения окна поиска. по умолчанию: 0\n\n    // язык оф дока: https://select2.org/i18n\n    language: {\n      // все названия свойств можно найти в языковый файла в select2\n      ...lang\n    }\n  }\n\n  /** переопредиления параметров по умолчанию перед инициализацией списков */\n  $.fn.select2.defaults.set(\"width\", \"100%\");\n\n  $('.js-select2').select2({\n    placeholder: 'Введите дивыизион', // -> текст по умолчанию. по умолчанию: null\n\n    ...config\n  })\n\n  // сбросить селект\n  document.querySelector('#form-search').addEventListener('reset', (e) => {\n    $('.js-select2').val(-1).trigger('change')\n  })\n}\n\nexport default select2;\n","import $ from 'jquery'\n\nimport Modal from \"./library/sumbiot/modules/modal/components/modal\";\n\nimport date from \"./modules/date\";\nimport mask from \"./modules/mask\";\nimport select2 from \"./modules/select2-news\";\nimport burger from \"./modules/burger\";\nimport observer from \"./modules/observer\";\n\n// import TestIndexNews from \"./components/test-index-news\";\n\nimport VisitorPattern from \"./components/visitor.pattern\";\n\n\n$(document).ready(function(){\n\n  // модалка поиск\n  const searchModal : Modal = new Modal('.js-search-modal', '#modal-search').init()\n    .accept(VisitorPattern.modalSearchMod).upgrade();\n\n\n\n  // выподающие меню (бургер)\n  burger('.aBurger', {modals: [searchModal]})\n\n  // работа с датой и временем\n  date()\n\n  // маски\n  mask()\n\n  // Кастомный выпадающий список\n  select2()\n\n  // Кастомный выпадающий список\n  observer('.js-observer')\n\n  // new TestIndexNews(\"#aContent\").init()\n\n})\n","/**\n *  Шаблон предыдущие комментарии\n * */\nexport function unwrapCommentsTemplate(count: number): string {\n\n  return `\n    <div class=\"aNews__unwrap-comments\">\n      <a class=\"js-unwrap-comments\" href=\"\">Предыдущие комментарии (<span>${count}</span>)</a>\n    </div><!-- ./aNews__unwrap-comments-->\n  `\n}\n","/**\n *  Шаблон кнопки развернуть\n * */\nexport function unwrapTemplate(): string {\n\n  return `\n    <div class=\"aNews__aUnwrap aUnwrap\">\n      <button class=\"aUnwrap__btn aBtn aBtn--icon js-unwrap-idea\" title=\"Развернуть\"></button>\n    </div><!--./aUnwrap-->\n  `\n}\n"],"names":["VisitorPattern","modalSearchMod","instanceClass","upgrade","document","addEventListener","e","target","matches","this","_trigger","parentElement","querySelector","classList","remove","Core","calcScroll","div","createElement","style","width","height","overflowY","visibility","body","appendChild","scrollWidth","offsetWidth","clientWidth","overflowBody","overflow","marginRight","ModalCore","accept","visitor","Modal","constructor","triggerSelector","modalSelector","closeSelector","closeClickOverlay","modalGroup","modalParent","overflowHidden","modalDisplay","super","modal","_close","_closeClickOverlay","dataset","sumbiotOverlay","_modalGroup","_modalParent","sumbiotParent","_overflowHidden","sumbiotOverflow","_display","init","hideAllModals","_showHandler","_closeHandler","console","log","group","modals","querySelectorAll","slice","length","sumbiotModal","forEach","add","display","preventDefault","stopPropagation","_eventTrigger","show","setTimeout","blur","_modalPosition","closest","append","close","_closeModalOverlay","window","key","keyCode","$","caretTimeoutId","ua","navigator","userAgent","iPhone","test","chrome","android","mask","definitions","autoclear","dataName","placeholder","fn","extend","caret","begin","end","range","is","get","activeElement","each","setSelectionRange","createTextRange","collapse","moveEnd","moveStart","select","selectionStart","selectionEnd","selection","createRange","duplicate","text","unmask","trigger","settings","defs","tests","partialPosition","firstNonMaskPos","lastRequiredNonMaskPos","len","oldVal","data","undefined","completed","String","split","i","c","push","RegExp","input","buffer","map","getPlaceholder","defaultBuffer","join","focusText","val","tryFireCompleted","call","charAt","seekNext","pos","shiftL","j","writeBuffer","Math","max","blurEvent","checkVal","change","clearBuffer","start","allow","lastMatch","substring","one","off","removeData","on","prop","clearTimeout","replace","k","which","seekPrev","p","next","ctrlKey","altKey","metaKey","fromCharCode","t","shiftR","proxy","curVal","lastEnteredValue","burgerSelector","$burger","toggle","datepicker","regional","closeText","prevText","nextText","currentText","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","weekHeader","dateFormat","firstDay","isRTL","showMonthAfterYear","yearSuffix","setDefaults","$datepicker","onSelect","date","children","first","find","hide","$calendar","selector","MutationObserver","mutationRecords","mutation","type","element","addedNodes","HTMLElement","contains","$idea","scrollHeight","insertAdjacentHTML","unwrapTemplate","$commentsWrapper","$comments","unwrapCommentsTemplate","observe","childList","subtree","maxHeight","$showComments","innerHTML","$hideComments","config","debug","disabled","multiple","selectOnClose","selectionCssClass","dropdownCssClass","theme","minimumResultsForSearch","language","searching","noResults","loadingMore","errorLoading","maximumSelected","maximum","select2","defaults","set","ready","searchModal","count"],"sourceRoot":""}