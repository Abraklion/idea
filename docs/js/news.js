(self.webpackChunkgulp_html_scss=self.webpackChunkgulp_html_scss||[]).push([[697],{953:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});class a{static modalSearchMod(e){e.upgrade=function(){return document.addEventListener("click",(e=>{let t=e.target;(t&&t.matches(this._trigger)||t&&t.parentElement?.matches(this._trigger))&&document.querySelector(".aBurger--active")?.classList.remove("aBurger--active")}),!0),this}}}},415:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});class a{calcScroll(){let e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t}overflowBody(e="",t=""){document.body.style.overflow=e,document.body.style.marginRight=t?`${t}px`:""}}class s extends a{accept(e){return e(this),this}}class i extends s{constructor(e,t,{closeSelector:n="[data-sumbiot-modal-close]",closeClickOverlay:a=!1,modalGroup:s="[data-sumbiot-modal]",modalParent:i=null,overflowHidden:o=!1,modalDisplay:r="block"}={}){super(),this._trigger=e,this.modal=document.querySelector(t),this._close=this.modal?.querySelector(n),this._closeClickOverlay=a||!this.modal?.dataset.sumbiotOverlay||"true"===this.modal?.dataset.sumbiotOverlay||!1,this._modalGroup=s,this._modalParent=i||this.modal?.dataset.sumbiotParent||!1,this._overflowHidden=o||this.modal?.dataset.sumbiotOverflow&&"true"===this.modal?.dataset.sumbiotOverflow||!1,this._display=r}init(){return this.modal?(this.hideAllModals(),this._showHandler(),this._closeHandler(),this):(console.log("Проверте у всех ли модальных окон, заданы корректные ID"),{})}hideAllModals(e=!1){let t;e?(t=document.querySelectorAll(`${this._modalGroup.slice(0,this._modalGroup.length-1)}${this.modal.dataset.sumbiotModal?`="${this.modal.dataset.sumbiotModal}"`:""}]`),t.length||(t=document.querySelectorAll(this._modalGroup))):t=document.querySelectorAll(this._modalGroup),t.forEach((e=>{e.classList.add("animated","fadeIn"),e.style.display="none"})),this.overflowBody()}_showHandler(){document.addEventListener("click",(e=>{let t=e.target;(t&&t.matches(this._trigger)||t&&t.parentElement?.matches(this._trigger))&&(e.preventDefault(),e.stopPropagation(),t.parentElement.matches(this._trigger)&&(t=t.parentElement),this._eventTrigger=t,this.show(),setTimeout((()=>t.blur()),150))}),!0)}show(){this.hideAllModals(!0),this._modalPosition(),this.modal.style.display=this._display}_modalPosition(){this._overflowHidden&&this.overflowBody("hidden",this.calcScroll()),this._modalParent&&(this._eventTrigger.closest(this._modalParent)||document.querySelector(this._modalParent)||this._eventTrigger.parentElement).append(this.modal)}_closeHandler(){this._close?.addEventListener("click",(e=>{e.target&&(e.preventDefault(),this.close())})),this.modal?.addEventListener("click",(e=>{e.target&&this._closeModalOverlay(e)})),window.addEventListener("keydown",(e=>{"Escape"!==e.key&&27!==e.keyCode||this.hideAllModals()}))}close(){this.overflowBody(),this.modal.style.display="none"}_closeModalOverlay(e){e.target===this.modal&&this._closeClickOverlay&&(this.overflowBody(),this.modal.style.display="none")}}},934:function(e,t,n){var a,s,i;s=[n(311)],void 0===(i="function"==typeof(a=function(e){var t,n=navigator.userAgent,a=/iphone/i.test(n),s=/chrome/i.test(n),i=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden")&&this.get(0)===document.activeElement)return"number"==typeof e?(t="number"==typeof t?t:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(n,o){var r,l,c,d,u,m,f;if(!n&&this.length>0){var h=e(this[0]).data(e.mask.dataName);return h?h():void 0}return o=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},o),r=e.mask.definitions,l=[],c=m=n.length,d=null,n=String(n),e.each(n.split(""),(function(e,t){"?"==t?(m--,c=e):r[t]?(l.push(new RegExp(r[t])),null===d&&(d=l.length-1),e<c&&(u=l.length-1)):l.push(null)})),this.trigger("unmask").each((function(){var h=e(this),p=e.map(n.split(""),(function(e,t){if("?"!=e)return r[e]?_(t):e})),g=p.join(""),v=h.val();function y(){if(o.completed){for(var e=d;e<=u;e++)if(l[e]&&p[e]===_(e))return;o.completed.call(h)}}function _(e){return e<o.placeholder.length?o.placeholder.charAt(e):o.placeholder.charAt(0)}function b(e){for(;++e<m&&!l[e];);return e}function k(e,t){var n,a;if(!(e<0)){for(n=e,a=b(t);n<m;n++)if(l[n]){if(!(a<m&&l[n].test(p[a])))break;p[n]=p[a],p[a]=_(a),a=b(a)}j(),h.caret(Math.max(d,e))}}function w(e){M(),h.val()!=v&&h.change()}function S(e,t){var n;for(n=e;n<t&&n<m;n++)l[n]&&(p[n]=_(n))}function j(){h.val(p.join(""))}function M(e){var t,n,a,s=h.val(),i=-1;for(t=0,a=0;t<m;t++)if(l[t]){for(p[t]=_(t);a++<s.length;)if(n=s.charAt(a-1),l[t].test(n)){p[t]=n,i=t;break}if(a>s.length){S(t+1,m);break}}else p[t]===s.charAt(a)&&a++,t<c&&(i=t);return e?j():i+1<c?o.autoclear||p.join("")===g?(h.val()&&h.val(""),S(0,m)):j():(j(),h.val(h.val().substring(0,i+1))),c?t:d}h.data(e.mask.dataName,(function(){return e.map(p,(function(e,t){return l[t]&&e!=_(t)?e:null})).join("")})),h.one("unmask",(function(){h.off(".mask").removeData(e.mask.dataName)})).on("focus.mask",(function(){var e;h.prop("readonly")||(clearTimeout(t),v=h.val(),e=M(),t=setTimeout((function(){h.get(0)===document.activeElement&&(j(),e==n.replace("?","").length?h.caret(0,e):h.caret(e))}),10))})).on("blur.mask",w).on("keydown.mask",(function(e){if(!h.prop("readonly")){var t,n,s,i=e.which||e.keyCode;f=h.val(),8===i||46===i||a&&127===i?(n=(t=h.caret()).begin,(s=t.end)-n==0&&(n=46!==i?function(e){for(;--e>=0&&!l[e];);return e}(n):s=b(n-1),s=46===i?b(s):s),S(n,s),k(n,s-1),e.preventDefault()):13===i?w.call(this,e):27===i&&(h.val(v),h.caret(0,M()),e.preventDefault())}})).on("keypress.mask",(function(t){if(!h.prop("readonly")){var n,a,s,o=t.which||t.keyCode,r=h.caret();t.ctrlKey||t.altKey||t.metaKey||o<32||!o||13===o||(r.end-r.begin!=0&&(S(r.begin,r.end),k(r.begin,r.end-1)),(n=b(r.begin-1))<m&&(a=String.fromCharCode(o),l[n].test(a))&&(function(e){var t,n,a,s;for(t=e,n=_(e);t<m;t++)if(l[t]){if(a=b(t),s=p[t],p[t]=n,!(a<m&&l[a].test(s)))break;n=s}}(n),p[n]=a,j(),s=b(n),i?setTimeout((function(){e.proxy(e.fn.caret,h,s)()}),0):h.caret(s),r.begin<=u&&y()),t.preventDefault())}})).on("input.mask paste.mask",(function(){h.prop("readonly")||setTimeout((function(){var e=M(!0);h.caret(e),y()}),0)})),s&&i&&h.off("input.mask").on("input.mask",(function(e){var t=h.val(),n=h.caret();if(f&&f.length&&f.length>t.length){for(M(!0);n.begin>0&&!l[n.begin-1];)n.begin--;if(0===n.begin)for(;n.begin<d&&!l[n.begin];)n.begin++;h.caret(n.begin,n.begin)}else{M(!0);var a=t.charAt(n.begin);n.begin<m&&(l[n.begin]||n.begin++,l[n.begin].test(a)&&n.begin++),h.caret(n.begin,n.begin)}y()})),M()}))}})})?a.apply(t,s):a)||(e.exports=i)},758:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,{modals:t=[]}={})=>{const n=document.querySelector(e);n.addEventListener("click",(e=>{t.forEach((e=>e.close())),n.classList.toggle("aBurger--active")}))}},494:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(311));n(414),t.default=()=>{!function(){s.default.datepicker.regional.ru={closeText:"Закрыть",prevText:"Предыдущий",nextText:"Следующий",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Не",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},s.default.datepicker.setDefaults(s.default.datepicker.regional.ru);const e=(0,s.default)(".js-datepicker");e.datepicker({onSelect:function(e){(0,s.default)(this).children("input").first().val(e),(0,s.default)(this).find(".ui-datepicker-inline").hide()}});const t=(0,s.default)(".ui-datepicker-inline");t.hide(),e.on("click",(function(){t.hide(),(0,s.default)(this).find(".ui-datepicker-inline").show()})),document.addEventListener("click",(function(e){const n=e.target;n&&n.closest(".ui-datepicker-inline")||n&&n.closest(".js-input")||t.hide()})),window.addEventListener("keydown",(e=>{"Escape"!==e.key&&27!==e.keyCode||t.hide()}))}()}},787:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(311));n(934),t.default=()=>{(0,s.default)(".js-input").mask("99.99.9999")}},83:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(465),s=n(420);t.default=e=>{new MutationObserver((e=>{e.forEach((e=>{if("childList"===e.type)for(let t of e.addedNodes){if(!(t instanceof HTMLElement))continue;if(!t.classList.contains("aContent__item"))continue;const e=t.querySelector(".js-idea");e.scrollHeight>480&&e.insertAdjacentHTML("beforeend",(0,a.unwrapTemplate)());const n=t.querySelector(".js-comments"),i=n.querySelectorAll(".js-comment");if(i.length>2){i[1].classList.add("aComment--after");for(let e=2;e<i.length;e++)i[e].style.display="none";n.insertAdjacentHTML("beforeend",(0,s.unwrapCommentsTemplate)(i.length-2))}}}))})).observe(document.querySelector(e),{childList:!0,subtree:!0}),document.addEventListener("click",(e=>{var t;const n=e.target;if(n&&n.classList.contains("js-unwrap-idea")&&(n.closest(".js-idea").style.maxHeight="100%",n.parentElement.remove()),n&&n.classList.contains("js-comments-hide")){e.preventDefault();const t=n.closest(".js-comments").querySelectorAll(".js-comment");for(let e=0;e<t.length;e++)t[e].style.display="none";n.innerHTML="Предыдущие комментарии (<span></span>)",n.classList.remove("js-comments-hide")}if(n&&n.classList.contains("js-unwrap-comments")){e.preventDefault();const a=n.closest(".js-comments").querySelector(".aNews__comments-inner"),s=a.querySelectorAll('[style*="none"]');if(null===(t=a.querySelector(".aComment--after"))||void 0===t||t.classList.remove("aComment--after"),s.length>2){for(let e=0;e<2;e++)s[e].style.display="flex";s[1].classList.add("aComment--after"),n.querySelector("span").innerHTML=""+(s.length-2)}else{for(let e=0;e<s.length;e++)s[e].style.display="flex";n.innerHTML="Скрыть комментарии",n.classList.add("js-comments-hide")}}}))}},84:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(311));n(686),t.default=()=>{const e={debug:!1,disabled:!1,multiple:!1,selectOnClose:!1,selectionCssClass:"sSelect",dropdownCssClass:"sSelect-dropdown",theme:"default",minimumResultsForSearch:10,language:Object.assign({},{searching:function(){return"Поиск..."},noResults:function(){return"Совпадений не найдено"},loadingMore:function(){return"Загрузка…"},errorLoading:function(){return"Результаты не удалось загрузить"},maximumSelected:function(e){return"Вы можете выбрать не более "+e.maximum+" элемент"+(1===e.maximum?"a":"ов")}})};s.default.fn.select2.defaults.set("width","100%"),(0,s.default)(".js-select2").select2(Object.assign({placeholder:"Введите дивыизион"},e)),document.querySelector("#form-search").addEventListener("reset",(e=>{(0,s.default)(".js-select2").val(-1).trigger("change")}))}},59:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(311)),i=a(n(415)),o=a(n(494)),r=a(n(787)),l=a(n(84)),c=a(n(758)),d=a(n(83)),u=a(n(953));(0,s.default)(document).ready((function(){const e=new i.default(".js-search-modal","#modal-search").init().accept(u.default.modalSearchMod).upgrade();(0,c.default)(".aBurger",{modals:[e]}),(0,o.default)(),(0,r.default)(),(0,l.default)(),(0,d.default)(".js-observer")}))},420:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unwrapCommentsTemplate=void 0,t.unwrapCommentsTemplate=function(e){return`\n    <div class="aNews__unwrap-comments">\n      <a class="js-unwrap-comments" href="">Предыдущие комментарии (<span>${e}</span>)</a>\n    </div>\x3c!-- ./aNews__unwrap-comments--\x3e\n  `}},465:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unwrapTemplate=void 0,t.unwrapTemplate=function(){return'\n    <div class="aNews__aUnwrap aUnwrap">\n      <button class="aUnwrap__btn aBtn aBtn--icon js-unwrap-idea" title="Развернуть"></button>\n    </div>\x3c!--./aUnwrap--\x3e\n  '}}},function(e){e.O(0,[186,894],(function(){return 59,e(e.s=59)})),e.O()}]);
//# sourceMappingURL=news.js.map