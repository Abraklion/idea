"use strict";(self.webpackChunkgulp_html_scss=self.webpackChunkgulp_html_scss||[]).push([[179],{415:function(e,t,l){l.r(t),l.d(t,{default:function(){return a}});class o{calcScroll(){let e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t}overflowBody(e="",t=""){document.body.style.overflow=e,document.body.style.marginRight=t?`${t}px`:""}}class s extends o{accept(e){return e(this),this}}class a extends s{constructor(e,t,{closeSelector:l="[data-sumbiot-modal-close]",closeClickOverlay:o=!1,modalGroup:s="[data-sumbiot-modal]",modalParent:a=null,overflowHidden:i=!1,modalDisplay:d="block"}={}){super(),this._trigger=e,this.modal=document.querySelector(t),this._close=this.modal?.querySelector(l),this._closeClickOverlay=o||!this.modal?.dataset.sumbiotOverlay||"true"===this.modal?.dataset.sumbiotOverlay||!1,this._modalGroup=s,this._modalParent=a||this.modal?.dataset.sumbiotParent||!1,this._overflowHidden=i||this.modal?.dataset.sumbiotOverflow&&"true"===this.modal?.dataset.sumbiotOverflow||!1,this._display=d}init(){return this.modal?(this.hideAllModals(),this._showHandler(),this._closeHandler(),this):(console.log("Проверте у всех ли модальных окон, заданы корректные ID"),{})}hideAllModals(e=!1){let t;e?(t=document.querySelectorAll(`${this._modalGroup.slice(0,this._modalGroup.length-1)}${this.modal.dataset.sumbiotModal?`="${this.modal.dataset.sumbiotModal}"`:""}]`),t.length||(t=document.querySelectorAll(this._modalGroup))):t=document.querySelectorAll(this._modalGroup),t.forEach((e=>{e.classList.add("animated","fadeIn"),e.style.display="none"})),this.overflowBody()}_showHandler(){document.addEventListener("click",(e=>{let t=e.target;(t&&t.matches(this._trigger)||t&&t.parentElement?.matches(this._trigger))&&(e.preventDefault(),e.stopPropagation(),t.parentElement.matches(this._trigger)&&(t=t.parentElement),this._eventTrigger=t,this.show(),setTimeout((()=>t.blur()),150))}),!0)}show(){this.hideAllModals(!0),this._modalPosition(),this.modal.style.display=this._display}_modalPosition(){this._overflowHidden&&this.overflowBody("hidden",this.calcScroll()),this._modalParent&&(this._eventTrigger.closest(this._modalParent)||document.querySelector(this._modalParent)||this._eventTrigger.parentElement).append(this.modal)}_closeHandler(){this._close?.addEventListener("click",(e=>{e.target&&(e.preventDefault(),this.close())})),this.modal?.addEventListener("click",(e=>{e.target&&(e.stopPropagation(),this._closeModalOverlay(e))})),window.addEventListener("keydown",(e=>{"Escape"!==e.key&&27!==e.keyCode||this.hideAllModals()}))}close(){this.overflowBody(),this.modal.style.display="none"}_closeModalOverlay(e){e.target===this.modal&&this._closeClickOverlay&&(this.overflowBody(),this.modal.style.display="none")}}},863:function(e,t,l){var o=l(415),s=l(907);console.log("1"),window.addEventListener("DOMContentLoaded",(function(){console.log("2"),new o.default(".js-search-modal","#modal-search").init(),new o.default(".js-filter-modal","#modal-filter").init(),(0,s.default)(".aTabs",".aBtn--tab",".aTabs__content","active")}))},907:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,l,o,s){void 0===s&&(s="block"),document.addEventListener("click",(function(a){var i,d=a.target;(d&&d.classList.contains(t.replace(/\./,""))||d&&(null===(i=d.parentElement)||void 0===i?void 0:i.classList.contains(t.replace(/\./,""))))&&function(a){var i=a.closest(e),d=i.querySelectorAll(t),n=i.querySelectorAll(l);d.forEach((function(e,t){a!==e&&a.parentNode!==e||(function(e,t){t.forEach((function(e){e.style.display="none"})),e.forEach((function(e){e.classList.remove(o)}))}(d,n),function(e,t,l){void 0===l&&(l=0),t[l].style.display=s,e[l].classList.add(o)}(d,n,t))}))}(d)}))}}},function(e){e(e.s=863)}]);
//# sourceMappingURL=main.js.map